<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my girlfriend? ‚ù§Ô∏è</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff4d6d}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{background:linear-gradient(180deg,#071028 0%,#0f1724 60%);color:#e6eef8;display:flex;align-items:center;justify-content:center}
    .stage{width:100%;max-width:980px;margin:32px;padding:32px;border-radius:18px;background:radial-gradient(circle at 10% 10%, rgba(255,77,109,0.06), transparent 10%), linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));box-shadow:0 10px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
    header{display:flex;gap:16px;align-items:center}
    .avatar{width:84px;height:84px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#ff9ab3);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:26px;flex:0 0 84px}
    h1{margin:0;font-size:28px}
    p.lead{opacity:0.9}
    .card{margin-top:22px;padding:22px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));display:flex;flex-direction:column;gap:12px}
    .message{font-size:18px;line-height:1.4}
    .controls{display:flex;gap:12px;margin-top:8px}
    .btn{padding:12px 18px;border-radius:10px;border:0;cursor:pointer;font-weight:700;letter-spacing:0.3px}
    .btn.no{background:transparent;color:#c4d0df;border:1px solid rgba(255,255,255,0.04)}
    .btn.yes{background:linear-gradient(90deg,var(--accent),#ff7a96);color:white}
    .subtitle{opacity:0.85;font-size:14px}

    /* Falling hearts container */
    .hearts{pointer-events:none;position:absolute;inset:0;overflow:hidden}
    .heart{position:absolute;top:-60px;width:36px;height:36px;transform-origin:center;opacity:0;will-change:transform,opacity}
    .heart svg{width:100%;height:100%;display:block}

    /* small footer */
    footer{margin-top:18px;font-size:13px;color:#9fb1d8;opacity:0.9}

    /* modal vibes */
    .modal{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;backdrop-filter: blur(4px)}
    .dialog{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.15));padding:24px;border-radius:14px;box-shadow:0 10px 30px rgba(2,6,23,0.6);max-width:700px}

    @media (max-width:600px){.avatar{width:64px;height:64px;font-size:20px}.stage{padding:20px}.dialog{padding:18px}}
  </style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="hearts" id="hearts"></div>

    <header>
      <div class="avatar">DZ</div>
      <div>
        <h1>Untuk Diva Zalianty Asy'ari</h1>
        <p class="lead">Ada sesuatu yang ingin aku bilang ‚Äî dari hati.</p>
      </div>
    </header>

    <div class="card">
      <div class="message" id="message">Diva, aku suka kamu. Mau kah kamu menjadi pacarku?</div>

      <div class="controls">
        <button class="btn no" id="noBtn">Maaf, tidak</button>
        <button class="btn yes" id="yesBtn">Iya aku mau üíñ</button>
      </div>

      <div class="subtitle">Jika kamu pilih "Iya aku mau", aku akan langsung mengirim pesan WhatsApp untuk mengkonfirmasi.</div>

      <footer>‚Äî Dari seseorang yang selalu memikirkanmu</footer>
    </div>

    <!-- optional overlay dialog for extra sparkle -->
    <div class="modal" id="modal" style="display:none">
      <div class="dialog" id="dialog">
        <h2>Yess! üéâ</h2>
        <p>Kamu memilih <strong>"Iya aku mau"</strong>. Aku akan menghubungi kamu lewat WhatsApp sekarang.</p>
        <div style="display:flex;gap:10px;margin-top:12px">
          <button class="btn yes" id="confirmYes">Lanjut ke WhatsApp</button>
          <button class="btn no" id="cancelYes">Batal</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    // Nomor pengguna (otomatis terisi dari request). NOTE: gunakan format internasional tanpa +
    const phone = '6285179956922'; // 085179956922 => 6285179956922
    const prefilled = encodeURIComponent('iya aku mau');

    const heartsContainer = document.getElementById('hearts');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const modal = document.getElementById('modal');
    const confirmYes = document.getElementById('confirmYes');
    const cancelYes = document.getElementById('cancelYes');

    function createHeart(x) {
      const el = document.createElement('div');
      el.className = 'heart';
      const size = 20 + Math.random()*40; // 20 - 60px
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.left = (x !== undefined ? x : Math.random()*100) + '%';
      el.style.opacity = 0.9 * (0.6 + Math.random()*0.4);

      const rotation = Math.random()*360;
      const svg = `
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 21s-7-4.35-9-7.5C-0.2 9.9 3 4 8 5.8 10 6.6 12 9 12 9s2-2.4 4-3.2c5-1.8 8.2 4.1 5 8.7-2 3.2-9 7.5-9 7.5z" fill="${getRandomHeartColor()}"/>
        </svg>
      `;
      el.innerHTML = svg;
      heartsContainer.appendChild(el);

      const duration = 4000 + Math.random()*3500;
      el.animate([
        { transform: `translateY(0px) rotate(${rotation}deg)`, opacity: 0.9, offset: 0 },
        { transform: `translateY(${window.innerHeight + 200}px) rotate(${rotation + 90}deg)`, opacity: 0.05, offset: 1 }
      ], { duration, easing: 'cubic-bezier(.17,.67,.34,1)' });

      setTimeout(()=> el.remove(), duration+100);
    }

    function getRandomHeartColor(){
      const colors = ['#ff6b81','#ff4d6d','#ff9ab3','#ff7a96','#ffb3c7'];
      return colors[Math.floor(Math.random()*colors.length)];
    }

    // continuous gentle hearts
    let gentleInterval = setInterval(()=> createHeart(Math.random()*100), 700);

    // burst of hearts
    function burstHearts(count=20) {
      for(let i=0;i<count;i++){
        setTimeout(()=> createHeart(20+Math.random()*60), i*80);
      }
    }

    noBtn.addEventListener('click', ()=>{
      // polite rejection animation: shake and a few grey hearts
      stage.classList.add('shake');
      for(let i=0;i<6;i++) createHeart(Math.random()*100);
      setTimeout(()=> stage.classList.remove('shake'), 700);
    });

    yesBtn.addEventListener('click', ()=>{
      // show modal then redirect to WhatsApp
      modal.style.display = 'flex';
      burstHearts(28);
    });

    cancelYes.addEventListener('click', ()=>{ modal.style.display='none'; });

    confirmYes.addEventListener('click', ()=>{
      // Open WhatsApp chat with prefilled message. Opens in new tab.
      const url = `https://wa.me/${phone}?text=${prefilled}`;
      window.open(url, '_blank');
      // Also create a big celebration
      burstHearts(60);
    });

    // small UX: press Y for yes, N for no
    document.addEventListener('keydown', (e)=>{
      if(e.key.toLowerCase()==='y') yesBtn.click();
      if(e.key.toLowerCase()==='n') noBtn.click();
    });

    // accessibility
    yesBtn.setAttribute('aria-label','Iya aku mau');
    noBtn.setAttribute('aria-label','Maaf tidak');

    // reference to stage for animations
    const stage = document.getElementById('stage');
  </script>
</body>
</html>
